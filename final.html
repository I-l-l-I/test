<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>2019nCoV</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/4.6.0/echarts-en.common.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/4.6.0/echarts-en.min.js"></script>
    <link rel="stylesheet" href="./shijianzhoustyle.css" />
    <style type="text/css">　　
        body {background-color:#ffffff}
        p {text-indent:2rem; line-height: 2;font-family: sans-serif}
        h1 {font-family: sans-serif}
        h2 {font-family: sans-serif}
        h3 {text-indent:5rem;font-family: sans-serif}
        h2.top_title {border-bottom:none;background:none;text-align:center;line-height:32px; font-size:20px}
        h2.top_title span {font-size:12px; color:#666;font-weight:500}

    </style>　　　


</head>

<body >
    <h1>2019-nCoV新型冠状病毒疫情传播预测（2月2日）</h1>
    <p>  黄森忠：南开大学统计研究院客座教授，南开大学智英健康数据研究中心主任。该预测的共同发布者为靳祯教授（山西大学复杂系统所所长）和彭志行副教授（南京医科大学公共卫生学院）。</p>
    <p>  基于国家卫建委公布的从2019年12月12日-2020年2月1日的疫情数据，我们应用传播动力学和黄森忠博士建构的普适SEIR动力学模型，着重研究了武汉市，湖北省和全国的疫情发展情况，并对未来五天的确诊人数进行了预测。</p>  
    <p>  疾控的成功离不开国家对于疫情采取的有效措施以及广大人民群众的积极相应。随着春运返程高峰的到来，疾控工作不能有一丝松懈。我们一起注意防护，保持乐观，众志成城，共度时艰！</p>   
    </br>
    </br>
    </br> 
    <h2>新型冠状病毒肺炎确诊病例数时序图</h2>
    <div id="liandong" style="width:90%;height:600px;margin: 20px auto"></div>
    </br>
    </br>
    </br> 

    <h2>新型冠状病毒肺炎新增病例数时序图</h2>
    <div id="add" style="width:100%;height:600px;"></div>
    <p>截止目前，每日新增的确诊病例数仍是上涨状态，形式不容乐观。但积极的一面是，确诊增长率已稳定控制在20%以下，并逐步下降。依据黄森忠教授的模型预测，预计在2月7日前后会出现爆发增长的拐点。</p>
    
    </br>
    </br>
    </br>
    
    <h2>全国新型冠状病毒肺炎确诊病例数日历图</h2>
    <div id="dateplot" style="width:100%;height:600px;"></div>
    </br>
    </br>
    </br>

    <h2>全国新型冠状病毒肺炎大事记</h2>
    <section id="cd-timeline" class="cd-container">

        <div class="cd-timeline-block">
        <div class="cd-timeline-img cd-picture">
        </div>
        <div class="cd-timeline-content">
        <h2>1.1 华南海鲜市场休市</h2>
        <span class="cd-date">2020-1-1</span>
        </div>
        </div>
        <div class="cd-timeline-block">
        <div class="cd-timeline-img cd-movie">
        </div>
        <div class="cd-timeline-content">
        <h2>1.20 钟南山提出确定有人传人现象</h2>
        <span class="cd-date">2020-1-20</span>
        </div>
        </div>
        <div class="cd-timeline-block">
        <div class="cd-timeline-img cd-picture">
        </div>
        <div class="cd-timeline-content">
        <h2>1.23 武汉封城</h2>
        <span class="cd-date">2020-1-23</span>
        </div>
        </div>
        <div class="cd-timeline-block">
        <div class="cd-timeline-img cd-movie">
        </div>
        <div class="cd-timeline-content">
        <h2>1.24 湖北省封省</h2>
        <p>湖北省启动重大突发公共卫生事件一级响应</p>
        <span class="cd-date">2020-1-24</span>
        </div>
        </div>
        <div class="cd-timeline-block">
        <div class="cd-timeline-img cd-picture">
        </div>
        <div class="cd-timeline-content">
        <h2>1.25 火神山医院开工</h2>
        <span class="cd-date">2020-1-25</span>
        </div>
        </div>
        <div class="cd-timeline-block">
        <div class="cd-timeline-img cd-movie">
        </div>
        <div class="cd-timeline-content">
            <h2>1.26 雷神山医院开工</h2>
            <span class="cd-date">2020-1-26</span>
        </div>
        </div>
        <div class="cd-timeline-block">
        <div class="cd-timeline-img cd-picture">
        </div>
        <div class="cd-timeline-content">
        <h2>1.31 WHO宣布把新型冠状病毒被列为PHEIC（国际突发公共卫生事件）</h2>
        <span class="cd-date">2020-1-31</span>
        </div>
        </div>
        <div class="cd-timeline-block">
        <div class="cd-timeline-img cd-movie">
        </div>
        <div class="cd-timeline-content">
        <h2>2.2 火神山医院完工，明日接诊</h2>
        <span class="cd-date">2020-2-2</span>
        </div>
        </div>
    <p>日历图与时间轴将每日数据与2020年1月以来与疫情相关的重大事件结合，能更直观的了解到疫情发展情况与所采取的有效防控措施的关系。结合前面部分的分析，在封省并启动重大突发公共卫生事件一级响应之后，增长率逐渐被控制住，可见这些防控措施取得了初步成效，也使我们对疫情防控的发展充满积极乐观的期待。</p>
    </br>
    </br>
    </br>
   
    <h2>全国死亡率治愈率对比折柱图</h2>
    <div id="linebarquanguo" style="width:100%;height:600px;"></div>
    <p>对比折柱图直观反映了疫情的治愈速率与死亡速率的关系。从图中可以看出，近几天，治愈速率从小于死亡速率逐步开始转变为大于死亡速率，防控措施展现出了积极的效果。
经过春节假期近两周的全国动员与防控，目前已初步控制住疫情蔓延趋势。但春节假期结束也意味着又即将迎来春运返程大潮，一线城市将会面临新的挑战。目前我们面对的疫情防控和医疗救治工作仍然十分艰巨，还需大家的共同努力。</p>

    </br>
    </br>
    </br>
    </br>
    </br>
    <h3>数据可视化项目小组成员：
    </br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp陈笑洋 张宸玥 王玉珏 刘城昕 马佳明</h3>




<!------------------------------->
    <!--三条折线图-->
    <!------------------------------->
<script type="text/javascript">
        var myChart = echarts.init(document.getElementById('liandong'));
        var xAxisData = ['12/8/19','12/31/19','1/3/20','1/5/20','1/11/20','1/12/20','1/13/20','1/14/20','1/15/20','1/16/20','1/17/20','1/18/20','1/19/20','1/20/20','1/21/20','1/22/20','1/23/20','1/24/20','1/25/20','1/26/20','1/27/20','1/28/20','1/29/20','1/30/20','1/31/20',
        '2/1/20','2/2/20','2/3/20','2/4/20','2/5/20','2/6/20'];
//全国
var firstLineData = [1,27,44,59,41,41,41,41,41,45,62,121,198,291,440,571,830,1287,1975,2744,4515,5974,7711,8149,11791,13831,'_', '_', '_', '_', '_'];
var firstLineDottedData = ['_', '_', '_', '_', '_','_', '_', '_', '_', '_', '_', '_', '_', '_','_', '_', '_', '_', '_','_', '_', '_', '_',9118,10602,12136,15363,17074,18627,19992,21166];
//湖北
var sendLineData = [1,27,44,59,41,41,41,41,41,45,62,121,198,270,375,444,549,729,1052,1423,2714,3554,4586,6026,7153,9074,'_', '_', '_', '_', '_'];
var sendLineDottedData = ['_', '_', '_', '_', '_','_', '_', '_', '_', '_', '_', '_', '_', '_','_', '_', '_', '_', '_','_', '_', '_', '_',6026,6998,8033,9790,10987,12091,13069,13905];
//武汉
var threeLineData = [1,27,44,59,41,41,41,41,41,45,62,121,198,270,375,437,495,572,618,698,1590,1905,2261,2639,3215,4109,'_', '_', '_', '_', '_'];
var threeLineDottedData = ['_', '_', '_', '_', '_','_', '_', '_', '_', '_', '_', '_', '_', '_','_', '_', '_', '_', '_','_', '_', '_', '_',2950,3720,4427,4596,5120,5568,6233,6808];

var lineitemStyle2 = {
normal: {
    label: {
        formatter: function(params) {
            return dataValue - params.value;
        },
        fontSize: 40,
        padding: [90, 0, 0, 0],
        color: '#7d838b',
        textStyle: {
            baseline: 'top'
        }
    },
    color: 'rgba(255,170,0,0.7)',
    borderColor: 'rgba(255,170,0,0.5)',
    borderWidth: 10
}
};
var lineitemStyle1 = {
normal: {
    label: {
        formatter: function(params) {
            return dataValue - params.value;
        },
        fontSize: 40,
        padding: [90, 0, 0, 0],
        color: '#7d838b',
        textStyle: {
            baseline: 'top'
        }
    },
    color: 'rgba(0,133,245,0.7)',
    borderColor: 'rgba(0,133,245,0.5)',
    borderWidth: 10
}
};
var lineitemStyle = {
normal: {
    label: {
        formatter: function(params) {
            return dataValue - params.value;
        },
        fontSize: 40,
        padding: [90, 0, 0, 0],
        color:'#7d838b',
        textStyle: {
            baseline: 'top'
        }
    },
    color: 'rgba(255,37,117,0.7)',
    borderColor: 'rgba(255,37,117,0.5)',
    borderWidth: 10
}
};

option = {
//backgroundColor: '#ffffff',
legend: {
        data: ['全国（真实）', '湖北（真实）','武汉（真实）','全国（预测）', '湖北（预测）','武汉（预测）'],
        top: 4,
        right: '20%',
        textStyle: {
            color: '#7d838b',
        },
    },
title: {
    text: '',
    subtext: '',
    x: 'center'
},
grid: {
    left: '4%',
    right: '4%',
    top: '10%',
    bottom: '10%',
    containLabel: true
},
xAxis: {
    type: 'category',
    boundaryGap: true,
    axisTick: {
        show: false
    },
    axisLine: {
        lineStyle: {
            color: '#7d838b'
        },
        onZero: true
    },
    axisLabel: {
        fontSize: 11,
        color: '#7d838b'
    },
    data: xAxisData
},
yAxis: {
    type: 'value',
    axisTick: {
        show: false
    },
    axisLine: {
        lineStyle: {
            color: '#7d838b'
        },
        onZero: false
    },
    axisLabel: {
        fontSize: 11,
        color: '#7d838b'
    },
    splitLine: {
        lineStyle: {
            type: 'dotted',
            color: '#7d838b'
        }
    },
    scale: true
},
"dataZoom": [{


        "show": true,
        "height": 20,
        "xAxisIndex": [
            0
        ],
        bottom: 0,
        "start": 63,
        "end": 95,
    
        handleIcon: 'path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z',
        handleSize: '110%',
        handleStyle:{
            color:"#d3dee5",
            
        },
           textStyle:{
            color:"#fff"},
           borderColor:"#90979c"
        
        
    },{
        "type": "slider",
          
        "show": false,
        "height": 10,
        "start": 25,
        "end": 65
    }],
series: [{
    name: '全国（真实）',
    smooth: true,
    type: 'line',
    symbolSize: 1,
    symbol: 'circle',
    itemStyle: lineitemStyle,
    data: firstLineData,
    tooltip: {
        formatter: '{b0},{a0}: {c0}<br />{b2}'
    }
}, {
    name: '全国（预测）',
    smooth: true,
    type: 'line',
    symbolSize: 1,
    symbol: 'diamond',
    itemStyle: lineitemStyle,
    lineStyle: {
        normal: {
            type: 'dotted'
        }
    },
   
    data: firstLineDottedData,
    tooltip: {
        formatter: '{b0},{a0}: {c0}<br />{b2}'
    }
}, {
    name: '湖北（真实）',
    smooth: true,
    type: 'line',
    symbolSize: 1,
    symbol: 'circle',
    itemStyle: lineitemStyle1,
    data: sendLineData,
    tooltip: {
        formatter: '{b0},{a0}: {c0}<br />{b2}'
    }
}, {
    name: '湖北（预测）',
    smooth: true,
    type: 'line',
    symbolSize: 1,
    symbol: 'diamond',
    itemStyle: lineitemStyle1,
    lineStyle: {
        normal: {
            type: 'dotted'
        }
    },
    data: sendLineDottedData,
    tooltip: {
        formatter: '{b0},{a0}: {c0}<br />{b2}'
    }
}, {
    type: 'line',
    name: '武汉（真实）',
    smooth: true,
    symbolSize: 1,
    symbol: 'circle',
    itemStyle: lineitemStyle2,
    data: threeLineData,
    tooltip: {
        formatter: '{b0},{a0}: {c0}<br />{b2}'
    }
}, {
    type: 'line',
    name: '武汉（预测）',
    smooth: true,
    symbol: 'diamond',
    symbolSize: 1,
    itemStyle: lineitemStyle2,
    lineStyle: {
        normal: {
            type: 'dotted'
        }
    },
    data: threeLineDottedData,
    tooltip: {
        formatter: '{b0},{a0}: {c0}<br />{b2}'
    }
}]
};

myChart.setOption(option);
</script>


   <!------------------------------->
    <!--折柱图-->
    <!------------------------------->
    <script type="text/javascript">
       
    
// 

    var barline = 
[{"日期":"2020.1.11","全国死亡人数":1,"全国治愈人数":6},{"日期":"2020.1.12","全国死亡人数":1,"全国治愈人数":7},{"日期":"2020.1.13","全国死亡人数":1,"全国治愈人数":7},{"日期":"2020.1.14","全国死亡人数":1,"全国治愈人数":7},{"日期":"2020.1.15","全国死亡人数":1,"全国治愈人数":7},{"日期":"2020.1.16","全国死亡人数":2,"全国治愈人数":15},{"日期":"2020.1.17","全国死亡人数":2,"全国治愈人数":19},{"日期":"2020.1.18","全国死亡人数":3,"全国治愈人数":25},{"日期":"2020.1.19","全国死亡人数":4,"全国治愈人数":25},{"日期":"2020.1.20","全国死亡人数":6,"全国治愈人数":25},{"日期":"2020.1.21","全国死亡人数":9,"全国治愈人数":28},{"日期":"2020.1.22","全国死亡人数":17,"全国治愈人数":28},{"日期":"2020.1.23","全国死亡人数":25,"全国治愈人数":34},{"日期":"2020.1.24","全国死亡人数":41,"全国治愈人数":38},{"日期":"2020.1.25","全国死亡人数":41,"全国治愈人数":39},{"日期":"2020.1.26","全国死亡人数":80,"全国治愈人数":51},{"日期":"2020.1.27","全国死亡人数":106,"全国治愈人数":60},{"日期":"2020.1.28","全国死亡人数":132,"全国治愈人数":103},{"日期":"2020.1.29","全国死亡人数":170,"全国治愈人数":124},{"日期":"2020.1.30","全国死亡人数":213,"全国治愈人数":171},{"日期":"2020.1.31","全国死亡人数":259,"全国治愈人数":243},{"日期":"2020.2.1","全国死亡人数":304,"全国治愈人数":328}];



    var myChart3 = echarts.init(document.getElementById('linebarquanguo'));
    let keys5 = [];
for (var key in barline[0]){
     
        keys5.push(key);  
    }
   // console.log(keys5)

    // 还需要获取一下日期2020-1-30
    let items5 = [];
  for (let i in barline) {
        items5.push(barline[i][keys5[0]]);
    }
    //console.log(items5)

    // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!应该用处挺大的！！！！！！！splice() 方法向/从数组中添加/删除项目，然后返回被删除的项目。
     var year = [];
       year.name = keys5.splice(0, 1);  //意思就是从第0个对象开始删除一项，剩下除了月份的后4个名字，返回的是删除的项目，所以说折线图的x轴名字是月份，现在keys只剩下除了月份的后4个名字   
      //console.log(keys5)

      var def = [];
      var pre =[];
      var rated=[];
        for (let idx in barline) { 
         def.push(barline[idx][keys5[0]])};

         for (let idx in barline) { 
         pre.push(barline[idx][keys5[1]])};

         for (var i = 0; i < barline.length ;i++) {


    var rate=def[i]/pre[i]; //死亡人数与治愈人数比
    rated[i] = rate.toFixed(2);
}
    

option = {
   //"title": {
     // "text": "全国死亡率治愈率对比折柱图",
      //"left": "center",
      //"y": "10",
      //"textStyle": {
       // "color": "#fff"
      //}
    //},
   // "backgroundColor": "#ffffff",
    "color": "#384757",
    "tooltip": {
      "trigger": "axis",
      "axisPointer": {
        "type": "cross",
        "crossStyle": {
          "color": "#384757"
        }
      }
    },
    "legend": {
      "data": [
        {
          "name": "死亡人数",
          "icon": "circle",
          "textStyle": {
            "color": "#7d838b"
          }
        },
        {
          "name": '治愈人数',
          "icon": "circle",
          "textStyle": {
            "color": "#7d838b"
          }
        },
        {
          "name": "死亡人数与治愈人数比",
          "icon": "circle",
          "textStyle": {
            "color": "#7d838b"
          }
        }
      ],
      "top": "0%",
      "textStyle": {
        "color": "#7d838b"
      }
    },
"dataZoom": [{


        "show": true,
        "height": 20,
        "xAxisIndex": [
            0
        ],
        bottom: 10,
        "start": 63,
        "end": 95,
    
        handleIcon: 'path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z',
        handleSize: '110%',
        handleStyle:{
            color:"#d3dee5",
            
        },
           textStyle:{
            color:"#7d838b"},
           borderColor:"#90979c"
        
        
    },{
        "type": "slider",
          
        "show": false,
        "height": 10,
        "start": 25,
        "end": 65
    }],
    xAxis: {
        type: 'category',
        "axisLine": {
            lineStyle: {
                color: '#FF4500'
            }
        },
        "axisTick": {
            "show": false
        },
        axisLabel: {
            textStyle: {
                color: '#7d838b'
            }
        },
        boundaryGap: false,
        data: items5
    },
   
    "yAxis": [
      {
        "type": "value",
        "name": "人数",
        "nameTextStyle": {
          "color": "#7d838b"
        },
        
        "axisLabel": {
          "show": true,
          "textStyle": {
            "color": "#7d838b"
          }
        },
        "axisLine": {
          "show": true
        },
         splitLine: {
            show: true,
            lineStyle: {
                type: 'dotted',
                color: '#7d838b'
            }
        },
        "axisTick": {
            "show": false
        }},
              
      {
        "type": "value",
        "name": "预测与实际人数比",

        "show": false,
        "axisLabel": {
          "show": true,
          "textStyle": {
            "color": "#7d838b"
          }
        }
      }
    ],
    "grid": {
      "top": "20%"
    },
    "series": [
      {
        "name": "死亡人数",
        "type": "bar",
        "data": def,
        "barWidth": "auto",
        "itemStyle": {
          "normal": {
            "color": {
              "type": "linear",
              "x": 0,
              "y": 0,
              "x2": 0,
              "y2": 1,
              "colorStops": [
                {
                  "offset": 0,
                  "color": "rgba(255,37,117,0.7)"
                },
                {
                  "offset": 0.5,
                  "color": "rgba(0,133,245,0.7)"
                },
                {
                  "offset": 1,
                  "color": "rgba(0,133,245,0.3)"
                }
              ],
              "globalCoord": false
            }
          }
        }
      },
      {
        "name": "治愈人数",
        "type": "bar",
        "data": pre,
        "barWidth": "auto",
        "itemStyle": {
          "normal": {
            "color": {
              "type": "linear",
              "x": 0,
              "y": 0,
              "x2": 0,
              "y2": 1,
              "colorStops": [
                {
                  "offset": 0,
                  "color": "rgba(255,37,117,0.7)"
                },
                {
                  "offset": 0.5,
                  "color": "rgba(0,255,252,0.7)"
                },
                {
                  "offset": 1,
                  "color": "rgba(0,255,252,0.3)"
                }
              ],
              "globalCoord": false
            }
          }
        },
        "barGap": "0"
      },
      {
        "name": "死亡人数与治愈人数比",
        "type": "line",
        "yAxisIndex": 1,
        "data": rated,
        "itemStyle": {
          "normal": {
            "color": "#ffaa00"
          }
        },
        "smooth": true
      }
    ]
};


    


    myChart3.setOption(option);
    window.onresize = function(){
    myChart3.resize();
    //myChart1.resize();    //若有多个图表变动，可多写

}

     



    </script>
           
    <!------------------------------->
    <!--日历图-->
    <!------------------------------->
    <script type="text/javascript">
            var myChart = echarts.init(document.getElementById('dateplot'));
            var dateList = [[ "2020-1-1","初七","华南海鲜市场休市"],[ "2020-1-2","初八" ],[ "2020-1-3","初九" ],[ "2020-1-4","初十" ],[ "2020-1-5","十一" ],[ "2020-1-6","十二" ],[ "2020-1-7","十三" ],[ "2020-1-8","十四" ],[ "2020-1-9","十五" ],[ "2020-1-10","十六" ],[ "2020-1-11","十七" ],[ "2020-1-12","十八" ],[ "2020-1-13","十九" ],[ "2020-1-14","二十" ],[ "2020-1-15","廿一" ],[ "2020-1-16","廿二" ],[ "2020-1-17","廿三" ],[ "2020-1-18","廿四" ],[ "2020-1-19","廿五" ],[ "2020-1-20","廿六","钟南山提出确定有人传人现象" ],[ "2020-1-21","廿七" ],[ "2020-1-22","廿八" ],[ "2020-1-23","廿九","武汉封城" ],[ "2020-1-24","除夕","湖北封省" ],[ "2020-1-25","春节","火神山医院开工" ],[ "2020-1-26","初二","雷神山医院开工"],[ "2020-1-27","初三" ],[ "2020-1-28","初四" ],[ "2020-1-29","初五" ],[ "2020-1-30","初六" ],[ "2020-1-31","初七","WHO宣布把新型冠状病毒被列为PHEIC（国际突发公共卫生事件" ]
];

var heatmapData = [];
var lunarData = [];
var people=[27,27,27,27,27,27,27,27,27,41,41,41,41,41,41,45,
62,121,198,291,440,571,830,1287,1975,2744,4515,5974,7711,8149,11791];
for (var i = 0; i < dateList.length; i++) {
    heatmapData.push([
        dateList[i][0],
        people[i]
    ]);
    lunarData.push([
        dateList[i][0],
        1,
        dateList[i][1],
        dateList[i][2]
    ]);
}


option = {
    //backgroundColor:'#ffffff',
    tooltip: {
        formatter: function (params) {
            return '全国确诊人数: ' + params.value[1];
        }
    },
    visualMap: {
        "min": 0,
        "max": 12000,
        "calculable": true,
        "seriesIndex": [2],
        "orient": "horizontal",
        "right": "center",
        "bottom": "150",
        "color": ["#3686e7", "#bcfdd6"]
    },
  
   

    calendar: [{
        left: 'center',
        top: 'middle',
        cellSize: [150, 80],
        yearLabel: {show: false},
        orient: 'vertical',
        dayLabel: {
            firstDay: 1,
            nameMap: 'cn'
        },
        
        monthLabel: {
            show: true,
            color:'#fff'
        },
        range: '2020-01'
    }],

    series: [{
        type: 'scatter',
        coordinateSystem: 'calendar',
        symbolSize: 1,
        label: {
            normal: {
                show: true,
                formatter: function (params) {
                    var d = echarts.number.parseDate(params.value[0]);
                    return d.getDate() + '\n\n' + params.value[2] + '\n\n';
                },
                textStyle: {
                    color: '#000'
                }
            }
        },
        data: lunarData
    }, {
        type: 'scatter',
        coordinateSystem: 'calendar',
        symbolSize: 1,
        label: {
            normal: {
                show: true,
                formatter: function (params) {
                    return '\n\n\n' + (params.value[3] || '');
                },
                textStyle: {
                    fontSize: 14,
                    fontWeight: 700,
                    color: "#CD5C5C"
                }
            }
        },
        data: lunarData
    }, {
        name: '降雨量',
        type: 'heatmap',
        coordinateSystem: 'calendar',
        data: heatmapData
    }]
};
            
myChart.setOption(option);
    </script>

    <script type="text/javascript">
        var myChart = echarts.init(document.getElementById('add'));
        var charts = {
unit: '病例数',
names: ['全国每日新增的确诊病例数'],
lineX: ['1/15/20','1/16/20','1/17/20','1/18/20','1/19/20','1/20/20','1/21/20','1/22/20','1/23/20','1/24/20','1/25/20','1/26/20','1/27/20','1/28/20','1/29/20','1/30/20','1/31/20','2/1/20'],
value: [
    [4,17,59,77,93,149,131,259,457,688,769,1771,1459,1737,438,3642,2040]
]

}
var color = ['rgba(255,37,117', 'rgba(0,133,245','rgba(255,170,0']
var lineY = []

for (var i = 0; i < charts.names.length; i++) {
var x = i
if (x > color.length - 1) {
    x = color.length - 1
}
var data = {
    name: charts.names[i],
    type: 'line',
    color: color[x] + ')',
    smooth: true,
    areaStyle: {
        normal: {
            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                offset: 0,
                color: color[x] + ', 0.3)'
            }, {
                offset: 0.8,
                color: color[x] + ', 0)'
            }], false),
            shadowColor: 'rgba(0, 0, 0, 0.1)',
            shadowBlur: 10
        }
    },
    symbol: 'circle',
    symbolSize: 5,
    data: charts.value[i]
}
lineY.push(data)
}


var option = {
//backgroundColor:'#ffffff',
tooltip: {
    trigger: 'axis'
},
legend: {
    data: charts.names,
    textStyle: {
        fontSize: 12,
        color: '#7d838b'
    },
    right: '4%'
},
grid: {
    top: '14%',
    left: '4%',
    right: '4%',
    bottom: '12%',
    containLabel: true
},
xAxis: {
    type: 'category',
    boundaryGap: false,
    data: charts.lineX,
    axisLabel: {
        textStyle: {
            color: '#7d838b'
        },
        formatter: function(params) {
            return params.split(' ')[0] 
        }
    }
},
yAxis: {
    name: charts.unit,
    type: 'value',
    axisLabel: {
        formatter: '{value}',
        textStyle: {
            color: '#7d838b'
        }
    },
    splitLine: {
        lineStyle: {
            type: 'dotted',
            color: '#7d838b'
        }
    },
    axisLine: {
        lineStyle: {
            color: '#7d838b'
        }
    }
},
"dataZoom": [{


        "show": true,
        "height": 20,
        "xAxisIndex": [
            0
        ],
        bottom: 19,
        "start": 63,
        "end": 95,
    
        handleIcon: 'path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z',
        handleSize: '110%',
        handleStyle:{
            color:"#d3dee5",
            
        },
           textStyle:{
            color:"#fff"},
           borderColor:"#90979c"
        
        
    },{
        "type": "slider",
          
        "show": false,
        "height": 10,
        "start": 25,
        "end": 65
    }],
series: lineY
}
setInterval(() => {
myChart.setOption({
  legend: {
    selected: {
      '出口': false,
      '入口': false
    }
  }
})
myChart.setOption({
  legend: {
    selected: {
      '出口': true,
      '入口': true
    }
  }
})
},10000);
window.onresize = function(){
    myChart.resize();
    //myChart1.resize();    //若有多个图表变动，可多写

}
   
myChart.setOption(option);
</script>


</body>

</html>
